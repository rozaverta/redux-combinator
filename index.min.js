"use strict";exports.__esModule=!0,exports.addReducer=addReducer,exports.rootReducer=rootReducer;var _typeofUtility=require("typeof-utility");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}var comb={},defaultValueNames={};function getKey(e){return"key:"+e}function add(e,t,r){comb[e]||(comb[e]={keys:[]});var o=getKey(t);if(comb[e][o])throw new Error("Duplicate pairs of the reducer context/type: '"+t+"/"+e+"'.");comb[e].keys.push(o),comb[e][o]={context:t,reducer:r}}function addReducer(e,t,r,o){if(void 0===t&&(t=null),void 0===r&&(r=null),void 0===o&&(o=null),t||(t=e.reducerContext||"*"),r||(r=e.reducerActionTypes),!(0,_typeofUtility.isString)(t)||!(0,_typeofUtility.isFunc)(e))throw new Error("Expected the reducer to be a function and context to be a string.");Array.isArray(r)||(r=[r]);for(var i=0,u=r.length;i<u;i++){if(!(0,_typeofUtility.isString)(r[i]))throw new Error("Expected the action type to be a string.");add(r[i],t,e)}"*"!==t&&((0,_typeofUtility.isNull)(o)?(0,_typeofUtility.isNull)(e.reducerDefaultValue)||(defaultValueNames[t]=e.reducerDefaultValue):defaultValueNames[t]=o)}function rootReducer(e,t){void 0===e&&(e={});var r=t.type;if(comb.hasOwnProperty(r))for(var o=comb[r].keys,i=o.length,u=0;u<i;u++){var n=comb[r][o[u]],a=n.context,c=n.reducer;if("*"===a)e=c(e,t);else{var d,l=c(e.hasOwnProperty(a)?e[a]:defaultValueNames[a],t,e);e=_extends({},e,((d={})[a]=l,d))}}return e}